<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no"
    />
    <title>Carbon Mini</title>

    <link rel="stylesheet" href="styles.css" />
    <link rel="manifest" href="manifest.json" />
  </head>

  <body>
    <menu>
      <a class="tab-link" href="#tab-1" active>
        <span class="icon">home</span>Home</a
      >
      <a class="tab-link" href="#tab-2">
        <span class="icon">favorite</span>Favorites</a
      >
    </menu>
    <header>My app</header>
    <main>
      <article id="tab-1">
        <div>
          <h1>Tab 1</h1>
          <div style="height: 100vh"></div>
          <button class="tile primary">
            <b>Some card</b>
          </button>
          <div style="height: 100vh"></div>
        </div>
      </article>
      <article id="tab-2">
        <header>My app</header>
        <div>
          <h1>Tab 2</h1>
        </div>
      </article>
    </main>

    <script>
      document.querySelector("main").addEventListener("scroll", () => {
        const links = document.querySelectorAll(".tab-link");
        links.forEach((element) => element.removeAttribute("active"));

        const pageWidth = document.querySelector("main > article").offsetWidth;
        const scroll = document.querySelector("main").scrollLeft;
        const currentPage = Math.round(scroll / pageWidth);

        links[currentPage].setAttribute("active", "");
      });
    </script>
  </body>
</html>
